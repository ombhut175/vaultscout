# ============================================
# VaultScout Backend - Production Environment
# ============================================
# 
# IMPORTANT: This is a template file for production deployment
# Copy this file to .env.production and fill in actual values
# Never commit .env.production with real credentials to version control
#
# ============================================

# ============================================
# Supabase Configuration
# ============================================
# Get these from your Supabase project settings
# Dashboard -> Settings -> API
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=your-production-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-production-service-role-key-here

# ============================================
# Database Configuration (PostgreSQL)
# ============================================
# Use the connection pooler URL for production (better performance)
# Format: postgresql://postgres.[PROJECT-REF]:[PASSWORD]@aws-0-[REGION].pooler.supabase.com:5432/postgres
DATABASE_URL=postgresql://postgres.your-project-ref:your-password@aws-0-region.pooler.supabase.com:5432/postgres

# ============================================
# Application Configuration
# ============================================
NODE_ENV=production
PORT=3000

# Frontend URL (your production frontend domain)
FRONTEND_URL=https://your-app-domain.com
REDIRECT_TO_FRONTEND_URL=https://your-app-domain.com/login

# ============================================
# Cookie Configuration
# ============================================
# Set the domain for cookies in production
# Use .yourdomain.com for cross-subdomain support (e.g., api.yourdomain.com and app.yourdomain.com)
# Leave empty if frontend and backend are on the same domain
COOKIE_DOMAIN=.your-domain.com

# ============================================
# Redis Configuration
# ============================================
# Required for BullMQ job queues and caching
# Production: Use managed Redis service (Redis Cloud, AWS ElastiCache, etc.)
# Format: redis://[:password@]host[:port][/db]
# Example with password: redis://:your-password@your-redis-host:6379
REDIS_URL=redis://:your-redis-password@your-redis-host:6379

# ============================================
# Hugging Face Inference Configuration
# ============================================
# Embedding model configuration
# Using BGE-base-en-v1.5 (768 dimensions) for production
HF_EMBEDDING_URL=https://router.huggingface.co/hf-inference/models/BAAI/bge-base-en-v1.5/pipeline/feature-extraction
HF_EMBEDDING_MODEL=BAAI/bge-base-en-v1.5
HF_API_TOKEN=hf_your_production_token_here

# ============================================
# Embedding Configuration
# ============================================
# IMPORTANT: Must match your Pinecone index dimension
# BGE-base-en-v1.5: 768 dimensions
# BGE-large-en-v1.5: 1024 dimensions
EMBEDDING_DIMENSIONS=768

# Normalize embeddings for cosine similarity (recommended: true)
BGE_NORMALIZE=true

# ============================================
# Pinecone Vector Database Configuration
# ============================================
# Get API key from Pinecone dashboard
# Index must be created with matching dimension and cosine metric
PINECONE_API_KEY=pcsk_your_production_api_key_here
PINECONE_INDEX_NAME=vaultscout-production

# ============================================
# Swagger / API Documentation
# ============================================
# SECURITY: Disable Swagger in production or protect with authentication
# Uncomment to enable (not recommended for production)
# SWAGGER_ENABLED=false

# If enabled, protect with basic auth
# SWAGGER_USER=admin
# SWAGGER_PASSWORD=very-secure-password-here

# Swagger UI preferences
# SWAGGER_UI_DEEP_LINKING=true
# SWAGGER_UI_DOC_EXPANSION=none
# SWAGGER_UI_FILTER=true

# ============================================
# Monitoring and Logging (Optional)
# ============================================
# Add your monitoring service credentials here
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
# LOG_LEVEL=info
# ENABLE_REQUEST_LOGGING=true

# ============================================
# Security Configuration (Optional)
# ============================================
# Rate limiting
# RATE_LIMIT_TTL=60
# RATE_LIMIT_MAX=100

# CORS configuration (if needed beyond FRONTEND_URL)
# CORS_ORIGINS=https://app1.yourdomain.com,https://app2.yourdomain.com
